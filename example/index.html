<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Hawk example</title>
    <style>
        section {
            padding: 5px;
            border-bottom: 1px solid rgba(26, 29, 38, 0.2);
        }

        h2 {
            font-size: 18px;
            margin: 5px 0;
        }
    </style>
</head>
<body>
<script>
  function throwError() {
    throw new Error('Test error')
  }

  function sendManyErrors() {
    const inputElement = document.getElementById('errorsNumber');
    const errorsNumber = inputElement.value;
    const errorType = document.getElementById('errorType').value;

    for (let i = 0; i < errorsNumber; i++){
      hawk.handleEvent(new window[errorType]('Test many error'));
    }
  }

  function onConsoleCatcherTest() {
    const consoleMethod = document.getElementById('consoleMethod').value;
    const text = document.getElementById('consoleCatcherTestTextInput').value;

    console[consoleMethod](text);
  }
</script>
<script src="assets/hawk.js"></script>
<script>
  window.hawk = new HawkCatcher({
    token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwcm9qZWN0SWQiOiI1ZDIwNmY3ZjlhYWY3YzAwNzFkNjQ1OTYiLCJpYXQiOjE1NjU5NzM0OTh9.FpzxP0P27SrVEM1N84eZAl-PbqbeqRU8A8aV2Uzmq8o',
    host: 'localhost',
    path: 'ws',
    port: 3000,
    secure: false
  })
</script>
<section>
    <h2>Send test event</h2>
    <button onclick="window.hawk.test()">hawk.test()</button>
</section>
<section>
    <h2>Send real error</h2>
    <button onclick="throwError()">Real error</button>
</section>
<section>
    <h2>Send Unhandled promise rejection error</h2>
    <button onclick="Promise.reject('Test reject')">Unhandled promise rejection</button>
</section>
<section>
    <h2>Send the specified number of errors</h2>
    <label for="errorsNumber">Enter the number of errors to send</label>
    <input type="number" id="errorsNumber" value="1000">
    <label for="errorType">Select errors type</label>
    <select id="errorType">
        <option value="TypeError">TypeError</option>
        <option value="RangeError">RangeError</option>
        <option value="Error">Error</option>
    </select>
    <button onclick="sendManyErrors()">Send errors</button>
</section>
<section>
    <h2>Test console catcher</h2>
    <label for="consoleCatcherTestTextInput">Enter text</label>
    <input type="text" id="consoleCatcherTestTextInput"> <br>
    <label for="consoleMethod">console.</label>
    <select id="consoleMethod">
        <option value="log">log</option>
        <option value="error">error</option>
        <option value="info">info</option>
        <option value="debug">debug</option>
        <option value="warn">warn</option>
    </select>
    <button onclick="onConsoleCatcherTest()">Make</button>
</section>
</body>
</html>
